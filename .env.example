# Embedding Provider Configuration
# Configure ONE of: OpenAI direct OR Azure OpenAI

# ============================================================================
# Option 1: OpenAI Direct (Recommended for testing)
# ============================================================================
# OPENAI_API_KEY=sk-...
# OPENAI_EMBEDDING_MODEL=text-embedding-3-large
# OPENAI_EMBEDDING_DIMENSIONS=3072
# OPENAI_EMBEDDING_CACHE_SIZE=1000

# ============================================================================
# Option 2: Azure OpenAI with Foundry (API Key authentication - TESTED âœ“)
# ============================================================================

# Foundry endpoint (MUST include full deployment path)
# Format: https://<resource>.cognitiveservices.azure.com/openai/deployments/<deployment-name>
# CORRECT: Include /openai/deployments/<name> (NOT just base URL)
AZURE_OPENAI_ENDPOINT=https://amplifier-teamtracking-foundry.cognitiveservices.azure.com/openai/deployments/text-embedding-3-large

# Model configuration
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-3-large
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large
AZURE_OPENAI_EMBEDDING_DIMENSIONS=3072

# Authentication (API Key works, RBAC needs role assignment)
AZURE_OPENAI_USE_RBAC=false
AZURE_OPENAI_API_KEY=<use az cognitiveservices account keys list to get key>

# Or use RBAC (requires Cognitive Services OpenAI User role):
# AZURE_OPENAI_USE_RBAC=true
# Then: az login

# Cache configuration
AZURE_OPENAI_EMBEDDING_CACHE_SIZE=1000

# Cosmos DB Configuration (for integration tests)
AMPLIFIER_COSMOS_ENDPOINT=https://amplifier-session-storage-test.documents.azure.com:443/
AMPLIFIER_COSMOS_DATABASE=amplifier-test-db
AMPLIFIER_COSMOS_AUTH_METHOD=default_credential
AMPLIFIER_COSMOS_ENABLE_VECTOR=true
